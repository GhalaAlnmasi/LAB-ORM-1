{% extends 'main/base.html' %}
{% load i18n %}
{% load static %}

{% block extra_style %}
{% endblock %}

{% block title %}
{% trans "Add Post" %}
{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto mt-14 glass dark:glass-dark shadow-2xl rounded-3xl p-10 border border-white/20 dark:border-white/10 transition-all duration-300">

  <h1 class="text-3xl font-extrabold mb-8 text-gray-900 dark:text-white text-center tracking-tight">
    {% trans 'Create New Post' %}
  </h1>

  <form method="POST" action="/create-post/" class="space-y-6">
    {% csrf_token %}

    <!-- Title -->
    <div>
      <label class="block text-gray-900 dark:text-gray-200 font-medium mb-1">
        {% trans 'Title' %}
      </label>
      <input type="text" name="title" class="w-full dark:bg-black/20 bg-white/40 backdrop-blur-xl text-gray-900 dark:text-white 
               border border-white/30 dark:border-white/10 rounded-xl p-3 
               focus:ring-2 focus:ring-[#901C24] focus:outline-none transition"
        placeholder="{% trans 'Enter post title' %}">
    </div>

    <!-- Content -->
    <div>
      <label class="block text-gray-900 dark:text-gray-200 font-medium mb-1">
        {% trans 'Content' %}
      </label>
      <textarea name="content" rows="5" class="w-full dark:bg-black/20 bg-white/40 backdrop-blur-xl text-gray-900 dark:text-white
               border border-white/30 dark:border-white/10 rounded-xl p-3 
               focus:ring-2 focus:ring-[#901C24] focus:outline-none transition"
        placeholder="{% trans 'Write something...' %}"></textarea>
    </div>

    <!-- Button -->
    <button type="submit" class="w-full flex items-center justify-center gap-2 bg-[#901C24] hover:bg-[#B2343C] 
             text-white py-3 rounded-xl text-lg font-semibold transition-all duration-300 
             transform hover:-translate-y-1 shadow-md">

      {% trans 'Publish Post' %}
      <img src="{% static 'images/add-post-icon.svg' %}" alt="add-icon" class="w-5 h-5">
    </button>

  </form>

  <!-- Alerts -->
  {% if messages %}
  <div class="mt-6 space-y-3">
    {% for message in messages %}
    <div class="flex items-center gap-3 rounded-xl bg-green-100/40 dark:bg-green-900/40 
                border border-green-300 dark:border-green-700 backdrop-blur-xl px-4 py-3 
                text-green-900 dark:text-green-300 shadow-sm animate-fadeIn">

      <svg class="w-5 h-5 text-green-700 dark:text-green-300" fill="none" stroke="currentColor" stroke-width="2"
        viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
      </svg>

      <span class="text-sm font-medium">{{ message }}</span>
    </div>
    {% endfor %}
  </div>
  {% endif %}

</div>

{% endblock %}