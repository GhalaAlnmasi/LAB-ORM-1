{% extends 'main/base.html' %}
{% load i18n %}

{% block title %}{% trans "Add Post" %}{% endblock %}

{% block content %}
<div class="bg-white dark:bg-brgandy/20 shadow-lg rounded-xl p-8 space-y-6 transition-all duration-300">

  <h1 class="text-3xl font-bold text-brgandy dark:text-beige mb-4 tracking-wide">
    {% trans "Create a New Post" %}
  </h1>

  <form action="{% url 'posts:create_post' %}" method="POST" enctype="multipart/form-data" class="space-y-6">
    {% csrf_token %}

    <!-- Title -->
    <div>
      <label class="block mb-2 font-semibold text-brgandy dark:text-beige">{% trans "Title" %}</label>
      <input name="title" required
        class="w-full p-3 rounded-xl bg-beige dark:bg-brgandy/40 border border-brgandy/20 focus:ring-2 focus:ring-lightred outline-none transition">
    </div>

    <!-- Content -->
    <div>
      <label class="block mb-2 font-semibold text-brgandy dark:text-beige">{% trans "Content" %}</label>
      <textarea name="content" rows="5" required
        class="w-full p-3 rounded-xl bg-beige dark:bg-brgandy/40 border border-brgandy/20 focus:ring-2 focus:ring-lightred outline-none transition"></textarea>
    </div>

    <!-- Image -->
    <div>
      <label class="block mb-2 font-semibold text-brgandy dark:text-beige">{% trans "Image" %}</label>
      <input type="file" name="image"
        class="block w-full text-brgandy dark:text-beige bg-beige dark:bg-brgandy/40 rounded-xl p-2 border border-brgandy/20 cursor-pointer transition" />
    </div>

    <!-- Submit -->
    <button
      class="w-full py-3 bg-brgandy text-white rounded-xl font-semibold hover:bg-lightred transition-all duration-300 shadow-md">
      {% trans "Publish" %}
    </button>

  </form> 
  
  <!-- Alerts -->
  {% if messages %}
  <div class="mt-6 space-y-3">
    {% for message in messages %}
    <div class="flex items-center gap-3 rounded-xl bg-green-100/40 dark:bg-green-900/40 
                border border-green-300 dark:border-green-700 backdrop-blur-xl px-4 py-3 
                text-green-900 dark:text-green-300 shadow-sm animate-fadeIn">

      <svg class="w-5 h-5 text-green-700 dark:text-green-300" fill="none" stroke="currentColor" stroke-width="2"
        viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
      </svg>

      <span class="text-sm font-medium">{{ message }}</span>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</div>
{% endblock %}
