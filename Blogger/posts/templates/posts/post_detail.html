{% extends 'main/base.html' %}
{% load i18n %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<div class="bg-white dark:bg-brgandy/20 shadow-lg p-8 rounded-xl space-y-6 transition">

  <!-- Image -->
  {% if post.image %}
  <img src="{{ post.image.url }}" class="w-full rounded-xl shadow-md hover:scale-[1.02] transition">
  {% endif %}

  <!-- Title -->
  <h1 class="text-4xl font-bold text-brgandy dark:text-beige">{{ post.title }}</h1>

  <!-- Content -->
  <p class="text-gray-700 dark:text-beige/80 leading-relaxed break-words">
    {{ post.content }}
  </p>

  <!-- Buttons -->
  <div class="flex items-center space-x-4 rtl:space-x-reverse mt-6">

    <a href="{% url 'posts:edit_post' post.pk %}"
      class="px-5 py-2 rounded-xl bg-lightblue text-white font-semibold hover:bg-lightred transition shadow">
      {% trans "Edit" %}
    </a>

    <!-- زر فتح مودال الحذف -->
    <button onclick="openDeleteModal('{{ post.pk }}')"
      class="px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition">
      {% trans "Delete" %}
    </button>
  </div>

</div>

<div id="delete-modal-{{ post.pk }}"
  class="fixed inset-0 hidden items-center justify-center bg-black/40 backdrop-blur-sm z-50">

  <div class="bg-white dark:bg-brgandy/20 p-6 rounded-3xl w-11/12 max-w-md shadow-2xl animate-fadeIn">

    <h3 class="text-xl font-extrabold text-brgandy mb-3">
      {% trans "Confirmation of post deletion" %}
    </h3>

    <p class="text-gray-700 dark:text-gray-300 mb-6">
      {% trans "Are you sure you want to permanently delete this post?" %}
    </p>

    <div class="flex justify-end gap-3">
      <button onclick="closeDeleteModal('{{ post.pk }}')"
        class="px-4 py-2 border rounded-xl hover:bg-gray-100 transition">
        {% trans "Details" %}
      </button>

      <form action="{% url 'posts:delete_post_confirm' post.pk %}" method="POST">
        {% csrf_token %}
        <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition">
          {% trans "Delete" %}
        </button>
      </form>
    </div>

  </div>
</div>




{% endblock %}